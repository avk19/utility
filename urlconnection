private static String getToken() throws Exception {
    URL url = new URL(tokenUrl);
    HttpURLConnection conn = (HttpURLConnection) url.openConnection();
    conn.setRequestMethod("POST");
    conn.setRequestProperty("Content-Type", "application/x-www-form-urlencoded"); // Set content type
    conn.setRequestProperty("Accept", "application/json"); // Add multiple headers as needed
    conn.setRequestProperty("Custom-Header", "CustomValue"); // Example of a custom header
    conn.setDoOutput(true);

    // Create form data
    String formData = String.format("username=%s&password=%s", 
                                     URLEncoder.encode(username, "UTF-8"), 
                                     URLEncoder.encode(password, "UTF-8"));

    // Write form data to the output stream
    try (OutputStream os = conn.getOutputStream()) {
        byte[] input = formData.getBytes("utf-8");
        os.write(input, 0, input.length);
    }

    if (conn.getResponseCode() == HttpURLConnection.HTTP_OK) {
        BufferedReader br = new BufferedReader(new InputStreamReader(conn.getInputStream(), "utf-8"));
        StringBuilder response = new StringBuilder();
        String responseLine;
        while ((responseLine = br.readLine()) != null) {
            response.append(responseLine.trim());
        }
        return parseToken(response.toString());
    } else {
        System.out.println("Error in getting token: " + conn.getResponseCode());
        return null;
    }
}
